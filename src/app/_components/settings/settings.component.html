<div class="main">
  <div class="main-header">
    <app-header></app-header>
  </div>
  <div class="main-body">
    <div class="main-navigation">
      <app-navigation></app-navigation>
    </div>
    <div class="main-content">
      <div class="main-content__box">
        <div class="settings-box">
          <form class="settings-form" [formGroup]="settingsForm" (ngSubmit)="saveSettings(settingsForm.value)">

           <div class="settings-header">
              <div class="settings-header__item settings-header_photo">
                <div class="settings-header__photo-box">
                  <img src="../../../assets/img/user-photo.png" alt="" class="settings-photo__img">
                </div>
                <div class="settings-header__btn-box">
                  <label class="settings-photo">
                    <input type="file" class="settings-photo__field" (click)="uploadPicture()">
                    <span class="settings-btn-gray">Upload picture</span>
                  </label>
                  <div class="settings-form__hint">Max file size is 20Mb</div>
                </div>
              </div>
              <div class="settings-header___item">
                <div class="settings-header__btn-box">
                  <button type="button" class="settings-btn-gray" (click)="changePassword()">Change Password</button>
                  <div class="settings-form__hint">Enable 2-factor authentication on the Secure Page</div>
                </div>
              </div>
            </div>

            <div class="settings-body">
              <div class="settings-body__hint">
                <svg width="15" height="18" viewBox="0 0 15 18" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M6.87817 16.0527L6.71631 16.0327C3.677 15.2727 0 10.9901 0 8.02075V2.02087C0 1.65283 0.298584 1.35425 0.666748 1.35425C1.5813 1.35425 3.3042 0.963623 5.04834 0.495605C5.60889 0.344971 6.20898 0.184204 6.84692 0.020874C6.9563 -0.00708008 7.07031 -0.00708008 7.18018 0.0216064C7.76611 0.174194 8.3208 0.324219 8.84424 0.466187C10.6328 0.950928 12.3884 1.35559 13.355 1.35559C13.7236 1.35559 14.0217 1.65417 14.0217 2.02222V8.02209C14.0217 11.0374 10.6301 15.3033 7.01074 16.0393L6.87817 16.0527ZM6.02686 10.5193L4.02686 8.51929C3.76611 8.25854 3.76611 7.83728 4.02686 7.57666C4.28735 7.31592 4.70874 7.31592 4.96948 7.57666L6.45337 9.06055L9.31934 5.62134C9.55542 5.33936 9.97461 5.29993 10.2588 5.53601C10.5413 5.77197 10.5793 6.19202 10.344 6.47461L7.01074 10.4746C6.89087 10.6185 6.71606 10.7052 6.52881 10.7133L6.49805 10.7146C6.32153 10.7146 6.1521 10.6453 6.02686 10.5193ZM1.33325 8.02087V2.64624C2.32715 2.53418 3.90747 2.18225 5.39404 1.78357C5.90088 1.64758 6.44019 1.50293 7.01074 1.35559C7.44946 1.47021 7.86963 1.58374 8.27173 1.6925L8.49536 1.75293C10.0327 2.16895 11.6497 2.53687 12.6885 2.64954V8.02209C12.6885 10.4341 9.72534 14.0187 6.89478 14.7001C4.50488 13.9867 1.33325 10.3081 1.33325 8.02087Z" transform="translate(0 0.97937)"/>
                </svg>
                Your personal information is never shown to other users.
              </div>
              <div class="settings-form__box">
                <div class="settings-form__column">
                  <div class="settings-form__group">
                    <label for="firstName" class="settings-form__label">First Name</label>
                    <input class="settings-form__field" id="firstName" placeholder="first name" [value]="profile?.firstName" formControlName="firstName" (focus)="inputFocussed('Enter first name')">
                  </div>
                  <div class="settings-form__group">
                    <label class="settings-form__label">Date of Birth</label>
                    <mat-form-field class="settings-form__datepicker">
                      <input matInput [matDatepicker]="picker" placeholder="Choose a date" [max]="maxDateCulculation()" formControlName="dateOfBirth" [value]="profile?.dateOfBirth" (focus)="inputFocussed('Birth month')">
                      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                      <mat-datepicker #picker disabled="false"></mat-datepicker>
                    </mat-form-field>
                  </div>
                  <div class="settings-form__group">
                    <label for="occupation" class="settings-form__label">Occupation</label>
                    <input class="settings-form__field" id="occupation" formControlName="occupation" [value]="profile?.occupation" (focus)="inputFocussed('Enter occupation')">
                  </div>
                </div>
                <div class="settings-form__column">
                  <div class="settings-form__group">
                    <label for="lastName" class="settings-form__label">Last Name</label>
                    <input class="settings-form__field" id="lastName" placeholder="last name" [value]="profile?.lastName" formControlName="lastName" (focus)="inputFocussed('Enter last name')">
                  </div>
                  <div class="settings-form__group">
                    <label class="settings-form__label">Country</label>
                    <mat-form-field class="settings-form__select">
                      <mat-select [placeholder]="profile?.citizenshipCountry" formControlName="citizenshipCountry" (selectionChange)="inputFocussed('Choose country')">
                        <mat-option *ngFor="let country of countryes" [value]="country">
                          {{country}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <div class="settings-form__group">
                    <label for="mobile" class="settings-form__label">Phone number</label>
                    <input class="settings-form__field" id="mobile" formControlName="mobile" type="text" [value]="profile?.mobile" (focus)="inputFocussed('Enter mobile phone')">
                  </div>
                </div>
                <div class="settings-form__column">
                  <div class="settings-form__group">
                    <label for="email" class="settings-form__label">Email</label>
                    <input class="settings-form__field field_filled" id="email" formControlName="email" [value]="profile?.email" type="email" (focus)="inputFocussed('Enter email')">
                  </div>
                  <div class="settings-form__group">
                    <label for="city" class="settings-form__label">City</label>
                    <input class="settings-form__field" id="city" formControlName="citizenshipCity" [value]="profile?.citizenshipCity" (focus)="inputFocussed('Enter city')">
                  </div>
                </div>
              </div>
              <div class="settings-form__bottom">
                <button class="settings-form__btn" (click)="setBithday()" >Save</button>
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="main-content__footer">
          <app-footer></app-footer>
      </div>
    </div>
  </div>
</div>
